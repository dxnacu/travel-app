{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0414\\u0430\\u043D\\u0430\\\\WEB_CW\\\\travel-app\\\\client\\\\src\\\\components\\\\PlaceList.jsx\",\n  _s = $RefreshSig$();\nimport PlaceCard from './PlaceCard';\nimport { usePlannedTrips } from '../context/plannedTripsContext';\nimport { getPlaces } from '../services/databaseService';\nimport { useState, useEffect } from 'react';\nimport '../styles/places-to-visit.css';\nimport \"../styles/general.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PlaceList() {\n  _s();\n  const {\n    plannedTrips,\n    addTrip\n  } = usePlannedTrips();\n  const [allPlaces, setAllPlaces] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedFilters, setSelectedFilters] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  let filters = [\"Beach\", \"Mountains\", \"City\", \"Other\"];\n  useEffect(() => {\n    const loadPlaces = async () => {\n      try {\n        const placesData = await getPlaces();\n        setAllPlaces(placesData);\n        setFilteredPlaces(placesData);\n      } catch (error) {\n        console.error(\"Error fetching places: \", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadPlaces();\n  }, []);\n  useEffect(() => {\n    if (selectedFilters.length > 0) {\n      const filtered = allPlaces.filter(place => selectedFilters.includes(place.category));\n      setFilteredPlaces(filtered);\n    } else {\n      setFilteredPlaces(allPlaces);\n    }\n  }, [selectedFilters, allPlaces]);\n  const handleFilterButtonClick = selectedCategory => {\n    if (selectedFilters.includes(selectedCategory)) {\n      let filters = selectedFilters.filter(el => el !== selectedCategory);\n      setSelectedFilters(filters);\n    } else {\n      setSelectedFilters([...selectedFilters, selectedCategory]);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-buttons-container\",\n      children: filters.map((category, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFilterButtonClick(category),\n        className: `filter-btn ${selectedFilters !== null && selectedFilters !== void 0 && selectedFilters.includes(category) ? \"filter-active\" : \"\"}`,\n        children: category\n      }, `filters-${idx}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"places-container\",\n      children: filteredPlaces.map((place, idx) => /*#__PURE__*/_jsxDEV(PlaceCard, {\n        place: place,\n        plannedTrips: plannedTrips,\n        onAdd: addTrip\n      }, place.id || idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(PlaceList, \"ci2BNQ/b/lFPm7sgOk9J65bSp40=\", false, function () {\n  return [usePlannedTrips];\n});\n_c = PlaceList;\nvar _c;\n$RefreshReg$(_c, \"PlaceList\");","map":{"version":3,"names":["PlaceCard","usePlannedTrips","getPlaces","useState","useEffect","jsxDEV","_jsxDEV","PlaceList","_s","plannedTrips","addTrip","allPlaces","setAllPlaces","loading","setLoading","selectedFilters","setSelectedFilters","filteredPlaces","setFilteredPlaces","filters","loadPlaces","placesData","error","console","length","filtered","filter","place","includes","category","handleFilterButtonClick","selectedCategory","el","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","idx","onClick","onAdd","id","_c","$RefreshReg$"],"sources":["C:/Users/Дана/WEB_CW/travel-app/client/src/components/PlaceList.jsx"],"sourcesContent":["import PlaceCard from './PlaceCard';\r\nimport { usePlannedTrips } from '../context/plannedTripsContext';\r\nimport { getPlaces } from '../services/databaseService'; \r\nimport { useState, useEffect } from 'react';\r\nimport '../styles/places-to-visit.css';\r\nimport \"../styles/general.css\";\r\n\r\nexport default function PlaceList() {\r\n    const { plannedTrips, addTrip } = usePlannedTrips();\r\n\r\n    const [allPlaces, setAllPlaces] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [selectedFilters, setSelectedFilters] = useState([]);\r\n    const [filteredPlaces, setFilteredPlaces] = useState([]);\r\n    let filters = [\"Beach\", \"Mountains\", \"City\", \"Other\"];\r\n\r\n    useEffect(() => {\r\n        const loadPlaces = async () => {\r\n            try {\r\n                const placesData = await getPlaces();\r\n                setAllPlaces(placesData);\r\n                setFilteredPlaces(placesData);\r\n            } catch (error) {\r\n                console.error(\"Error fetching places: \", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        loadPlaces();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedFilters.length > 0) {\r\n            const filtered = allPlaces.filter((place) =>\r\n                selectedFilters.includes(place.category)\r\n            );\r\n            setFilteredPlaces(filtered);\r\n        } else {\r\n            setFilteredPlaces(allPlaces);\r\n        }\r\n    }, [selectedFilters, allPlaces]);\r\n\r\n    const handleFilterButtonClick = (selectedCategory) => {\r\n        if (selectedFilters.includes(selectedCategory)) {\r\n            let filters = selectedFilters.filter((el) => el !== selectedCategory);\r\n            setSelectedFilters(filters);\r\n        } else {\r\n            setSelectedFilters([...selectedFilters, selectedCategory]);\r\n        }\r\n    };\r\n\r\n    if (loading) return <p>Loading...</p>;\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"filter-buttons-container\">\r\n                {filters.map((category, idx) => (\r\n                    <button\r\n                        onClick={() => handleFilterButtonClick(category)}\r\n                        className={`filter-btn ${\r\n                            selectedFilters?.includes(category) ? \"filter-active\" : \"\"\r\n                        }`}\r\n                        key={`filters-${idx}`}\r\n                    >\r\n                        {category}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n            <div className=\"places-container\">\r\n                {filteredPlaces.map((place, idx) => (\r\n                    <PlaceCard\r\n                        key={place.id || idx}\r\n                        place={place}\r\n                        plannedTrips={plannedTrips}\r\n                        onAdd={addTrip}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}